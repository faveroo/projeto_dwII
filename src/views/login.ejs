<!DOCTYPE html>
<html lang="pt-BR" data-bs-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login | Sistema</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        .fade-area {
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        .hidden {
            opacity: 0;
            transform: translateY(-10px);
            pointer-events: none;
            position: absolute;
            width: 100%;
        }
    </style>
</head>

<body class="bg-body-tertiary">
    <div class="container d-flex justify-content-center align-items-center min-vh-100">
        <div class="card border-secondary shadow-lg p-4" style="width: 100%; max-width: 420px;">
            <% if (error && error.length> 0) { %>
                <div class="alert alert-danger position-fixed top-0 start-50 translate-middle-x mt-3 p-3 shadow">
                    <%= error %>
                </div>
                <% } %>
                    <% if (success && success.length> 0) { %>
                        <div
                            class="alert alert-success position-fixed top-0 start-50 translate-middle-x mt-3 p-3 shadow">
                            <%= success %>
                        </div>
                        <% } %>
                            <!-- HEADER -->
                            <div class="text-center mb-4">
                                <h2 class="fw-bold text-white" id="form-title">Login</h2>
                                <p class="text-secondary" id="form-subtitle">Entre para acessar o sistema</p>
                            </div>

                            <!-- LOGIN FORM -->
                            <form id="login-form" class="fade-area" action="/login" method="post">
                                <div class="mb-3">
                                    <label class="form-label">Email</label>
                                    <input type="email" name="email" class="form-control"
                                        placeholder="email@exemplo.com" required>
                                </div>
                                <div class="mb-4">
                                    <label class="form-label">Senha</label>
                                    <input type="password" name="password" class="form-control" placeholder="Sua senha"
                                        required>
                                </div>

                                <button class="btn btn-primary w-100 py-2">Entrar</button>
                            </form>

                            <!-- REGISTER FORM -->
                            <form id="register-form" class="fade-area hidden" action="/register" method="post">
                                <div class="mb-3">
                                    <label class="form-label">Nome</label>
                                    <input type="text" name="name" class="form-control" placeholder="Seu nome" required>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Email</label>
                                    <input type="email" name="email" class="form-control"
                                        placeholder="email@exemplo.com" required>
                                </div>
                                <div class="mb-4">
                                    <label class="form-label">Senha</label>
                                    <input type="password" name="password" class="form-control"
                                        placeholder="Crie uma senha" required>
                                </div>

                                <button class="btn btn-success w-100 py-2">Criar Conta</button>
                            </form>

                            <!-- TOGGLE LINK -->
                            <div class="text-center mt-3">
                                <a href="#" id="toggle-link" class="text-decoration-none">
                                    Não tem conta? Criar conta
                                </a>
                            </div>

        </div>
    </div>


    <script>
        const loginForm = document.getElementById("login-form");
        const registerForm = document.getElementById("register-form");
        const toggleLink = document.getElementById("toggle-link");
        const title = document.getElementById("form-title");
        const subtitle = document.getElementById("form-subtitle");

        toggleLink.addEventListener("click", () => {

            const loginHidden = loginForm.classList.contains("hidden");

            if (loginHidden) {
                // VOLTA PARA LOGIN
                registerForm.classList.add("hidden");
                loginForm.classList.remove("hidden");

                title.textContent = "Login";
                subtitle.textContent = "Entre para acessar o sistema";
                toggleLink.textContent = "Não tem conta? Criar conta";

            } else {
                // VAI PARA REGISTRO
                loginForm.classList.add("hidden");
                registerForm.classList.remove("hidden");

                title.textContent = "Criar Conta";
                subtitle.textContent = "Preencha os dados abaixo";
                toggleLink.textContent = "Já possui conta? Fazer login";
            }
        });
    </script>
    <!-- Bootstrap 5 JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>